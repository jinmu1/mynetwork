<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes"/>
    <meta charset="UTF-8"/>
    <title>物流网络实时规划 . 省域</title>
</head>

<th:block th:include="include :: point-public-css"/>
<th:block th:include="include :: point-index4-css"/>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
<script th:src="@{/js/jquery.min.js}"></script>

<script src="https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.js"></script>
<style>
    .layui-layer-content {
        color: #000000;
    }

    body, html {
        overflow-x: hidden;
    }

    .echarts {
        height: 350px;
    }

    .th-inner {
        color: rgb(171, 225, 245);

    }

    .thead .tr {
        color: rgb(243, 243, 243);
    }

    .table-hover > tbody > tr {
        text-align: right;
    }

    .table-hover > tbody > tr:hover > td,
    .table-hover > tbody > tr:hover > th {
        color: rgb(14, 108, 132);
        cursor: pointer;
    }

    /*[class*="col-"]{*/
    /*    padding: 2px;*/
    /*    margin:2px*/
    /*}*/
    /*.row {*/
    /*    margin-right: -15px;*/
    /*    margin-left: -15px;*/
    /*}*/
    /*.table1{width:25xp;height: 25%}*/
</style>
<script>

    var docEl = document.documentElement,
        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';
    var clientWidth = docEl.clientWidth;
    docEl.style.fontSize = 10 * (clientWidth / 320) + 'px';
    window.addEventListener(resizeEvt, function () {
        clientWidth = docEl.clientWidth;
        docEl.style.fontSize = 10 * (clientWidth / 320) + 'px';
    }, false);
</script>
<script>

    $(document).ready(function () {
        var whei = $(window).width()
        $("html").css({fontSize: whei / 22});
        $(window).resize(function () {
            var whei = $(window).width();
            $("html").css({fontSize: whei / 22})
        });
    });
</script>
<body style="background: #jjj;height: 100%;width: 100%;">

<div class="main">

    <div class="header">
        <div class="header-left fl">
            <img class="imgs" th:src="@{/img/img.png}"
                 style="width: 60%;margin-left: -5%;margin-top: -46%;z-index: 9999">
        </div>
        <div class="header-center fl">
            <div class="header-title">
                仓库各功能区面积测算
            </div>
            <div class="header-img"></div>
        </div>
        <div class="header-right fl">
        </div>
        <div class="header-bottom fl">
        </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
            <div class="col-sm-12 border">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5 style="text-align: center">填写数据清单 <small></small></h5>
                        <div class="ibox-tools">
                            <a class="collapse-link"> <i class="fa fa-chevron-up"></i> </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a></li>
                                <li><a href="#">选项2</a></li>
                            </ul>
                            <a class="close-link"> <i class="fa fa-times"></i> </a>
                        </div>
                    </div>

                    <div class="ibox-content">
                        <div class="row">
                            <div class="col-lg-4">
                                <form class="form-horizontal m-t" id="signupForm" onsubmit="post_data()" target="nm_iframe">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="table-responsive table1">
                                                <table class="table table-bordered  width1">
                                                    <thead>
                                                    <tr>
                                                        <th colspan="2" style="text-align:center;vertical-align:middle;">上架、下架
                                                        </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <th>物料数量</th>
                                                        <td>
                                                            <input type="value" id="goods_num" value="2000"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;" required=""/>种
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>每日上架件数</th>
                                                        <td><input name="transportNum" value="1000" id="transportNum2"
                                                                   onkeyup="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   data-placement="right" title="请输入" th:type="text"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;"
                                                                   onchange="changeplant()" required=""/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>每日下架件数</th>
                                                        <td><input name="transportNum" value="1000" id="transportNum3"
                                                                   onkeyup="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   data-placement="right" title="请输入" th:type="text"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;"
                                                                   onchange="changeplant()" required=""/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>存储托数</th>
                                                        <td><input name="transportNum" value="40000" id="transportNum4"
                                                                   onkeyup="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                                                                   data-placement="right" title="请输入" th:type="text"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;"
                                                                   onchange="changeplant()" required=""/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>存储区高度</th>
                                                        <td>
                                                            <input type="value" id="height" value="12"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;" required=""/>m
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>存储区单层的高度</th>
                                                        <td>
                                                            <input type="value" id="shelf_height" value="1.5"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;" required=""/>m
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>存储区通道宽度</th>
                                                        <td>
                                                            <input type="value" id="forklift_channel" value="3"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;" required=""/>m
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>货架之间间隙</th>
                                                        <td>
                                                            <input type="value" id="shelf_space" value="0.01"
                                                                   style="background:rgb(14, 108, 132); color: #000;color:#fff;" required=""/>m
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>分拣方式</th>
                                                        <td><select name="sort_type" id="carLength1"
                                                                    style="background:rgb(14, 108, 132); color: #000;color:#fff;">
                                                            <option>按单拣选</option>
                                                            <option>批量拣选</option>
                                                        </select></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="table-responsive table1">
                                                <table class="table table-bordered  width1">
                                                    <tr>
                                                        <th>存储区面积</th>
                                                        <td id="area">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>货位数</th>
                                                        <td id="cargo">

                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <th>上架人数</th>
                                                        <td id="workload">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>上架人员</th>
                                                        <td id="workloadRate">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>下架人员利用率</th>
                                                        <td id="sortingEmp">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>上架人员利用率</th>
                                                        <td id="sortingEmpRate">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>人员成本</th>
                                                        <td id="empCost3">

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th>设备成本</th>
                                                        <td id="eqmCost">

                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <div class="ibox float-e-margins" style="height: 60px">
                                                <button class="btn btn-primary" type="submit"
                                                        style="margin-top: -2%;margin-left: 45%;z-index: 9999">确认并提交
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<iframe id="id_iframe" name="nm_iframe" style="display:none;"></iframe>
<div class="modal fade" id="loadingModal">
    <div style="width: 200px;height:20px; z-index: 20000; position: absolute; text-align: center; left: 50%; top: 50%;margin-left:-100px;margin-top:-10px">
        <div class="progress progress-striped active" style="margin-bottom: 0;">
            <div class="progress-bar" style="width: 100%;"></div>
        </div>
        <h5>正在加载...</h5>
    </div>
</div>
<div class="footer" style="margin-left: 45.5%; bottom:0;height: 10%;">

    <!--    <a onclick="turn1()" style="font-family: 华文行楷;color: white;font-size: 18px;position:absolute;margin-top: 60px">@环球物流咨询·官网     </a>-->
    <!--    <div style="margin-left:800px" ><img th:src="@{/img/weixin.png}" style="width: 100px;height:100px;" /></div>-->
</div>
<!--</div>-->
<th:block th:include="include :: echarts-js"/>
<th:block th:include="include :: point-finereport-js"/>
<th:block th:include="include :: footer"/>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?0521ccff0fe6264c65cdd1c5bdc46249";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script th:inline="javascript">
    var isClick = true;
    showLoading = function () {
        $('#loadingModal').modal({backdrop: 'static', keyboard: false});
    }
    //隐藏掉loading框
    hideLoading = function () {
        $('#loadingModal').modal('hide');
    }
    function post_data() {
        if (isClick) {
            showLoading();
            isClick = false;
            onStaroge();
            setTimeout(function () {
                isClick = true;
            }, 1000);//一秒内不能重复点击
        } else {
            return;
        }
        return false;
    }
    function onStaroge() {
        var transportNum2 =   $("#transportNum2").val();
        var transportNum3 =   $("#transportNum3").val();
        var transportNum4 =   $("#transportNum4").val();
        var height =   $("#height").val();
        var forklift_channel =   $("#forklift_channel").val();
        var shelf_space =   $("#shelf_space").val();
        var putaway =   $("#putaway").val();
        var sorting =   $("#sorting").val();
        var goods_num =  $("#goods_num").val();
        var sort_type = $("#sort_type option:selected").val();
        $.post("/getStoragePoint", {"transportNum2": transportNum2,"goods_num":goods_num,"transportNum3": transportNum3 ,"transportNum4":transportNum4,"height":height,"forklift_channel":forklift_channel,"shelf_space":shelf_space,"putaway":putaway,"sorting":sorting,"sort_type":sort_type}, function (result) {
            var d = result.rows[0];
            $("#area").html(parseInt(d.storageArea) + "㎡");
            $("#cargo").html(parseInt(d.cargo ) + "个");
            $("#workload").html(parseInt(d.putawayEmp) + "人");
            $("#sortingEmp").html(parseInt(d.sortingEmp) + "人");
            $("#empCost3").html((parseInt(d.putawayEmp)+parseInt(d.sortingEmp))*80000 + "元");
            $("#eqmCost").html(parseInt(d.cost) + "元");
            area3  = parseInt(d.storageArea);
            emp3 = parseInt(d.putawayEmp);
            emp4 = parseInt(d.sortingEmp);
            cost3 = parseInt(d.putawayEmp)*80000;
            cost4 = parseInt(d.putawayEmp)*80000;
            cost7=parseInt(d.cost);
        });
        hideLoading();


    }



</script>
</div>
</body>
</html>