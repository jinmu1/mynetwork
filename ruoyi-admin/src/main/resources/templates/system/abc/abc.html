<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
	<th:block th:include="include :: header('EIQ分析')" />
</head>
<body class="gray-bg">
	<div class="row  border-bottom white-bg dashboard-header">
        <div class="col-sm-12">
            <div>
                <div style="font-size:26px;text-align: center">ABC分类</div>
                <div style="height: 17px;"></div>
                <div style="line-height: 33px;">ABC分类法又称帕累托分类法，即所谓“关键的少数和一般的多数”的哲理，也就是我们平时所提到的80-20法则。ABC分类法的核心思想是在决定一个事物的众多因素中分清主次，识别出少数的但对事物起决定作用的关键因素和种类繁多的但对事物影响极小的次要因素。ABC分类法基本原理，是运用数理统计的方法，对种类繁多的各种事物属性或所占权重不同要求，进行统计、排列和分类，划分为A、B、C部分，分别给予重点、一般、次要等不同程度的相应管理。</div>
                <div style="line-height: 33px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABC分类法的作用</div>
                <div style="line-height: 33px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1、优化库存结构。</div>
                <div style="line-height: 33px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2、压缩库存总量，减少库存资金，加快物资流通和资金周转速度。</div>
                <div style="line-height: 33px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3、减少管理工作量。</div>
            </div>
        </div>
    </div>
    <div class="wrapper wrapper-content fadeInRight">
        <div class="col-sm-12">
            <div>
                <div style="line-height: 33px;">制表：按下列步骤进行：将已算出的平均资金占用额，以大排队方式，由高至低填入表中第六栏。</div>
                <div style="line-height: 33px;"> 以此栏为准，将相应物品编号填入第一栏、销售单价填入第四栏；平均库存填入第五栏、在第二栏中按1、2、3、4……编号，则为累计品目数。</div>
                <div style="line-height: 33px;"> 此后，计算累计品目数百分数、填入第三栏；计算平均资金占用额累计，填入第七栏；计算平均资金占用额累计百分比，填入第八栏。</div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>以存货占用资金为主要分类依据的ABC分类表</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content"  style="height:600px">

                        <table class="col-sm-12 select-table table-striped"
                               id="bootstrap-table1" >
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>以存货占用资金为主要分类依据的ABC分类图横纵坐标选择</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="panel panel-bordered">

                            <div>
                                <p>X轴</p>
                                <select onchange="reloadX()" name="x" id="x" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >商品名称</option>
                                    <option  value='累计品目数'  >累计品目数</option>
                                    <option  value='累计品目数百分比'  >累计品目数百分比</option>
                                    <option  value='单价'  >单价</option>
                                    <option  value='平均库存（件）'  >平均库存（件）</option>
                                    <option  value='平均资金占用额'  >平均资金占用额</option>
                                    <option  value='平均资金占用额累计'  >平均资金占用额累计</option>
                                    <option  value='平均资金占用额累计百分比'  >平均资金占用额累计百分比</option>
                                </select>
                            </div>
                            <div>
                                <p>Y轴</p>
                                <select onchange="reloadX()" name="y" id="y" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >商品名称</option>
                                    <option  value='累计品目数'  >累计品目数</option>
                                    <option  value='累计品目数百分比'  >累计品目数百分比</option>
                                    <option  value='单价'  >单价</option>
                                    <option  value='平均库存（件）'  >平均库存（件）</option>
                                    <option  value='平均资金占用额'  >平均资金占用额</option>
                                    <option  value='平均资金占用额累计'  >平均资金占用额累计</option>
                                    <option  value='平均资金占用额累计百分比'  >平均资金占用额累计百分比</option>
                                </select>
                            </div>

                            <div>
                                <p>A类</p>
                                <select onchange="reloadX()" name="a" id="a" type="text"  class="form-control"  >

                                </select>
                            </div>

                            <div>
                                <p>B类</p>
                                <select onchange="reloadX()" name="b" id="b" type="text"  class="form-control"  >

                                </select>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>以存货占用资金为主要分类依据的ABC分析图</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="echarts" id="abc1"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>ABC类出库频次管理方式</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:600px">
                        <table class="col-sm-12 select-table table-striped"
                               id="bootstrap-table3" >
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>出库频次分析横纵坐标选择</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="panel panel-bordered">
                            <div>
                                <p>X轴</p>
                                <select onchange="reloadX3()" name="x1" id="x1" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >物料编号</option>
                                    <option  value='出库频次'  >出库频次</option>
                                    <option  value='累计出库频次' >累计出库频次</option>
                                    <option  value='百分比'  >累计出库频次百分比</option>
                                </select>
                            </div>
                            <div>
                                <p>Y轴</p>
                                <select onchange="reloadX3()" name="y1" id="y1" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >物料编号</option>
                                    <option  value='出库频次'  >出库频次</option>
                                    <option  value='累计出库频次'  >累计出库频次</option>
                                    <option  value='百分比'  >累计出库频次百分比</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>出库频次ABC分析图</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="echarts" id="abc2"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>出库数量分析表</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:600px">

                        <table class="col-sm-12 select-table table-striped"
                               id="bootstrap-table4" >

                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>出库数量分析横纵坐标选择</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="panel panel-bordered">
                            <div>
                                <p>X轴</p>
                                <select onchange="reloadX4()" name="x2" id="x2" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >商品名称</option>
                                    <option  value='出库数量'  >出库数量</option>
                                    <option  value='累计出库数量' >累计出库数量</option>
                                    <option  value='百分比'  >累计出库数量百分比</option>
                                </select>
                            </div>
                            <div>
                                <p>Y轴</p>
                                <select onchange="reloadX4()" name="y2" id="y2" type="text"  class="form-control"    >
                                    <option  value='请选择'  >请选择</option>
                                    <option  value='商品名称'  >商品名称</option>
                                    <option  value='出库数量'  >出库数量</option>
                                    <option  value='累计出库数量'  >累计出库数量</option>
                                    <option  value='百分比'  >累计出库数量百分比</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>出库数量ABC分析图</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <div class="echarts" id="abc3"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>ABC类物料库存管理方式</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px">
                        <table class="col-sm-12 select-table table-striped"
                               id="bootstrap-table2" >

                        </table>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">

                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>管理方式选择</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#">选项1</a>
                                </li>
                                <li><a href="#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height:300px" >
                        <div>以下那种替换方式正确：</div>
                        <div id="bar6" style="display: block;">
                            <div class="form-group">
                                <div id="bar4Ra1"><input type="radio"  name="false" value="2">A.①→A类物料，②→B类物料，③→C类物料</div>
                                <div id="bar4Ra2"><input type="radio" name="false" value="2">B.①→B类物料，②→A类物料，③→C类物料</div>
                            </div>
                            <div class="form-group">
                                <div id="bar4Ra3"><input type="radio" name="false" value="1">C.①→C类物料，②→B类物料，③→A类物料</div>
                                <div id="bar4Ra4"><input type="radio" name="false" value="2">D.①→A类物料，②→C类物料，③→B类物料</div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" data-toggle="modal"  data-target="#myModal2">确定</button>
                        <div class="modal inmodal" id="myModal2" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content animated flipInY">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                                        </button>
                                        <h4 class="modal-title">正确选项为:C</h4>
                                        <small class="font-bold">ABC分类下的库存管理方式。</small>
                                    </div>
                                    <div class="modal-body">
                                        <br><strong>优化方向:</strong> </br>A类物料：品目数很少但是占用资金量很大，是管理的重点工作，应经常检查、详细统计、严格控制库存，可以设置较小的安全库存。</br>
                                        B类物料：占用资金量大而且品目数也多，对其库存的检查、统计、控制的力度可以相对减少，其安全库存可以较大。</br>
                                        C类物料：占用资金最少但品目数大，应按月或季度检查库存，按总金额统计库存，按金额总量控制库存，其安全库存允许较大。</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <th:block th:include="include :: footer" />
    <th:block th:include="include :: echarts-js" />
    <script  th:inline="javascript">
        // $("[data-toggle='tooltip']").tooltip();
        // $("[data-toggle=popover]").popover();
        var ctx = [[@{/}]];
           var prefix = ctx + "system/abc";
        loadTable();
        function loadTable() {
            $('#bootstrap-table1').bootstrapTable({
                url: prefix + "/abc/bar1",
                method: 'post',
                showFooter: true,
                showSearch: false,
                showRefresh: false,
                showToggle: false,
                showColumns: false,
                pagination: true,
                sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                pageNumber:1,                       //初始化加载第一页，默认第一页
                pageSize: 10,                       //每页的记录行数（*）
                pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                footerStyle: footerStyle,
                columns: [{
                    checkbox: false
                }, {
                    field : 'goods_name',
                    title : '物料名称'
                }, {
                    field : 'accumulated_item',
                    title : '累计品目数'
                }, {
                    field : 'percentage_item',
                    title : '累计品目数百分比'
                }, {
                    field : 'stock_price',
                    title : '单价'
                }, {
                    field : 'average_inventory',
                    title : '平均库存（件）'
                }, {
                    field : 'money_occupied',
                    title : '平均资金占用额'
                }, {
                    field : 'accumulates_money_occupied',
                    title : '平均资金占用额累计'
                }, {
                    field : 'percentage_money',
                    title : '平均资金占用额累计百分比'
                }],
                onLoadSuccess:function(data){
                    //通过对data判断
                    if("percentage_money" in data["rows"][0]){
                        var result = data["rows"];
                        $.each(result,function(index,content){
                            content["percentage_money"] =content["percentage_money"]+"%";
                            content["percentage_item"] =content["percentage_item"]+"%"
                        })
                        $("#bootstrap-table1").bootstrapTable("load",data)
                    }
                },
            });
        }
            function reloadX() {
                var x=$("#x option:selected").val();
                var y=$("#y option:selected").val();
                if(x=="累计品目数百分比"&&y=="平均资金占用额累计百分比"){
                    $.modal.msgSuccess('选择正确！')
                    load3();
                }
            }
            function load3() {
                var myChart1 = echarts.init(document.getElementById('abc1'), 'macarons');
                $.post(prefix + "/abc/bar1", function(result) {
                    var d = result.rows;
                    var arr1=[];
                    var arr2=[];
                    var arr4=[];
                    var Alloptions="<option  value=''  >"+'请选择'+"</option>";
                    var a=$("#a option:selected").val();
                    var b=$("#b option:selected").val();
                    for(var i=0;i<d.length;i++){
                        arr1.push(d[i].percentage_item);
                        var per_money=d[i].percentage_money.toString();
                        arr2.push(per_money.toString().substring(0,per_money.length-1));
                        if(a==i||b==i){
                            var a4=d[i].percentage_money;
                            arr4.push(a4.toString().substring(0,a4.length-1));
                        }else{
                            arr4.push(0);
                        }
                        var options="<option  value='"+ i +"'  >"+ d[i].percentage_money +"</option>";
                        Alloptions=Alloptions+options;
                    }
                    if(document.getElementById('a').options.length==0){
                        $("#a").append(Alloptions);
                    }
                    if(document.getElementById('b').options.length==0){
                        $("#b").append(Alloptions);
                    }


                    var option = {
                        title: {
                            text: 'ei分析'
                            , show: false
                        },
                        tooltip: {
                            trigger: 'axis'
                        },
                        dataZoom : {
                            show : true,
                            realtime : true
                        },
                        toolbox: {
                            show: true,
                            feature : {
                                mark : {show: true},
                                dataView : {show: true, readOnly: false},
                                magicType : {show: true, type: ['line', 'bar']},
                                restore : {show: true},
                                saveAsImage : {show: true}
                            }
                        },
                        grid: {
                            top: 20,
                            left: 20,
                            right: 20,
                            bottom: 20,
                            containLabel: true
                        },
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                            data: arr1,
                            axisLabel: {
                                interval: 0,
                                formatter:function(value)
                                {
                                    debugger
                                    var ret = "";//拼接加\n返回的类目项
                                    var maxLength = 2;//每项显示文字个数
                                    value = value.substring(0,6);
                                    var valLength = value.length;//X轴类目项的文字个数
                                    var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                                    if (rowN > 1)//如果类目项的文字大于3,
                                    {
                                        for (var i = 0; i < rowN; i++) {
                                            var temp = "";//每次截取的字符串
                                            var start = i * maxLength;//开始截取的位置
                                            var end = start + maxLength;//结束截取的位置
                                            //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧
                                            temp = value.substring(start, end) + "\n";
                                            ret += temp; //凭借最终的字符串
                                        }
                                        return ret;
                                    }
                                    else {
                                        return value;
                                    }
                                }
                            },
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                        },
                        yAxis: {
                            type: 'value',
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                            axisLabel: {
                                formatter: function(value){
                                    var var1=value*1;
                                    return var1;
                                },
                                textStyle:{
                                    color:"#595959"
                                }
                            },
                            splitLine:{
                                show:true
                            },
                            splitArea: {
                                show:true,
                                areaStyle: {
                                    color: ['rgba(0,0,0,0)', 'rgba(0,0,0,0)']
                                }
                            },
                        },
                        series: [{
                            name: '库存周转率',
                            type: 'line',
                            showSymbol: false,
                            hoverAnimation: false,
                            data: arr2,
                            itemStyle: {
                                emphasis: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                },
                                normal: {
                                    lineStyle:{
                                        width:1
                                    },
                                    color:'#51D0E5',
                                }
                            }
                        },{
                            data: arr4,
                            type:'bar',
                            barWidth:1
                        }
                        ]
                    };
                    myChart1.setOption(option);
            })
            }
            function footerStyle(column) {
                return {
//         	    userBalance: {
//         	        classes: 'class'
//         	    },
                    userBalance: {
                        css: { color: 'red', 'font-weight': 'normal' }
                    }
                }[column.field]
            };

          loadTable1();
          function loadTable1() {
              $('#bootstrap-table2').bootstrapTable({
                  url: prefix + "/abc/bar2",
                  method: 'post',
                  showFooter: true,
                  showSearch: false,
                  showRefresh: false,
                  showToggle: false,
                  showColumns: false,
                  pagination: true,
                  sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                  pageNumber:1,                       //初始化加载第一页，默认第一页
                  pageSize: 10,                       //每页的记录行数（*）
                  pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                  footerStyle: footerStyle,
                  columns: [{
                      checkbox: false
                  }, {
                      field : 'goods_name',
                      title : '管理项目'
                  }, {
                      field : 'percentage',
                      title : '①'
                  }, {
                      field : 'accumulate_quantity',
                      title : '②'
                  }, {
                      field : 'delivery_quantity',
                      title : '③'
                  }]
              });
          }
            function reloadX2() {
                var x=$("#x2 option:selected").val();
                var y=$("#y2 option:selected").val();
                if(x=="商品名称"&&y=="百分比"){
                    $.modal.msgSuccess('选择正确！')
                    load6();
                }
            }
            load5();
            function load5() {
                $('#bootstrap-table3').bootstrapTable({
                    url: prefix + "/abc/bar3",
                    method: 'post',
                    showFooter: true,
                    showSearch: false,
                    showRefresh: false,
                    showToggle: false,
                    showColumns: false,
                    pagination: true,
                    sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                    pageNumber:1,                       //初始化加载第一页，默认第一页
                    pageSize: 10,                       //每页的记录行数（*）
                    pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                    footerStyle: footerStyle,
                    columns: [{
                        checkbox: false
                    }, {
                        field : 'goods_name',
                        title : '物料名称'
                    }, {
                        field : 'delivery_frequency',
                        title : '出库频次'
                    }, {
                        field : 'accumulated_frequency',
                        title : '累计出库频次'
                    }, {
                        field : 'percentage',
                        title : '累计出库频次百分比'
                    }],
                    onLoadSuccess:function(data){
                        //通过对data判断
                        if("percentage" in data["rows"][0]){
                            var result = data["rows"];
                            $.each(result,function(index,content){
                                content["percentage"] =content["percentage"]+"%"
                            })
                            $("#bootstrap-table3").bootstrapTable("load",data)
                        }
                    },
                });
            }
            function reloadX3() {
                var x=$("#x1 option:selected").val();
                var y=$("#y1 option:selected").val();
                if(x=="商品名称"&&y=="百分比"){
                    $.modal.msgSuccess('选择正确！')
                    load6();
                }
            }
            function load6() {
                var myChart1 = echarts.init(document.getElementById('abc2'), 'macarons');
                $.post(prefix + "/abc/bar3", function(result) {
                    var d = result.rows;
                    var arr1=[];
                    var arr2=[];

                    for(var i=0;i<d.length;i++){
                        arr1.push(d[i].goods_code);
                        arr2.push(d[i].percentage);
                    }
                    var option = {
                        title: {
                            text: 'ei分析'
                            , show: false
                        },
                        tooltip: {
                            trigger: 'axis'

                        },
                        dataZoom : {
                            show : true,
                            realtime : true
                        },
                        toolbox: {
                            show: true,
                            feature : {
                                mark : {show: true},
                                dataView : {show: true, readOnly: false},
                                magicType : {show: true, type: ['line', 'bar']},
                                restore : {show: true},
                                saveAsImage : {show: true}
                            }
                        },
                        grid: {
                            top: 20,
                            left: 20,
                            right: 20,
                            bottom: 20,
                            containLabel: true
                        },
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                            data: arr1,
                            axisLabel: {
                                interval: 0,
                                formatter: function (value) {
                                    debugger
                                    var ret = "";//拼接加\n返回的类目项
                                    var maxLength = 2;//每项显示文字个数
                                    value = value.substring(0, 6);
                                    var valLength = value.length;//X轴类目项的文字个数
                                    var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                                    if (rowN > 1)//如果类目项的文字大于3,
                                    {
                                        for (var i = 0; i < rowN; i++) {
                                            var temp = "";//每次截取的字符串
                                            var start = i * maxLength;//开始截取的位置
                                            var end = start + maxLength;//结束截取的位置
                                            //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧
                                            temp = value.substring(start, end) + "\n";
                                            ret += temp; //凭借最终的字符串
                                        }
                                        return ret;
                                    }
                                    else {
                                        return value;
                                    }
                                }
                            },
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                        },
                        yAxis: {
                            type: 'value',
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                            axisLabel: {
                                formatter: function(value){
                                    var var1=value*1;
                                    return var1;
                                },
                                textStyle:{
                                    color:"#595959"
                                }
                            },
                            splitLine:{
                                show:true
                            },
                            splitArea: {
                                show:true,
                                areaStyle: {
                                    color: ['rgba(0,0,0,0)', 'rgba(0,0,0,0)']
                                }
                            },
                        },
                        series: [{
                            name: '库存周转率',
                            type: 'line',
                            showSymbol: false,
                            hoverAnimation: false,
                            data: arr2,
                            itemStyle: {
                                emphasis: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                },
                                normal: {
                                    lineStyle:{
                                        width:1
                                    },
                                    color:'#51D0E5',
                                }
                            }
                        }
                        ]
                    };
                    myChart1.setOption(option);
                })
            }
            load7();
            function load7() {
                $('#bootstrap-table4').bootstrapTable({
                    url: prefix + "/abc/bar5",
                    method: 'post',
                    showFooter: true,
                    showSearch: false,
                    showRefresh: false,
                    showToggle: false,
                    showColumns: false,
                    pagination: true,
                    sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                    pageNumber:1,                       //初始化加载第一页，默认第一页
                    pageSize: 10,                       //每页的记录行数（*）
                    pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                    footerStyle: footerStyle,
                    columns: [{
                        checkbox: false
                    }, {
                        field : 'goods_name',
                        title : '物料名称'
                    }, {
                        field : 'delivery_quantity',
                        title : '出库数量'
                    }, {
                        field : 'accumulate_quantity',
                        title : '累计出库数量'
                    }, {
                        field : 'percentage',
                        title : '累计出库数量百分比'
                    }],
                    onLoadSuccess:function(data){
                        //通过对data判断
                        if("percentage" in data["rows"][0]){
                            var result = data["rows"];
                            $.each(result,function(index,content){
                                content["percentage"] =content["percentage"]+"%"
                            })
                            $("#bootstrap-table4").bootstrapTable("load",data)
                        }
                    },
                });
            }
            function reloadX4() {
                var x=$("#x2 option:selected").val();
                var y=$("#y2 option:selected").val();
                if(x=="商品名称"&&y=="百分比"){
                    $.modal.msgSuccess('选择正确！')
                    load8();
                }
            }
            function load8() {
                var myChart1 = echarts.init(document.getElementById('abc3'), 'macarons');
                $.post(prefix + "/abc/bar5", function(result) {
                    var d = result.rows;
                    var arr1=[];
                    var arr2=[];

                    for(var i=0;i<d.length;i++){
                        arr1.push(d[i].goods_name);
                        arr2.push(d[i].percentage);
                    }
                    var option = {
                        title: {
                            text: 'ei分析'
                            , show: false
                        },
                        tooltip: {
                            trigger: 'axis'

                        },
                        dataZoom : {
                            show : true,
                            realtime : true
                        },
                        toolbox: {
                            show: true,
                            feature : {
                                mark : {show: true},
                                dataView : {show: true, readOnly: false},
                                magicType : {show: true, type: ['line', 'bar']},
                                restore : {show: true},
                                saveAsImage : {show: true}
                            }
                        },
                        grid: {
                            top: 20,
                            left: 20,
                            right: 20,
                            bottom: 20,
                            containLabel: true
                        },
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                            data: arr1,
                            axisLabel: {
                                interval: 0,
                                formatter: function (value) {
                                    debugger
                                    var ret = "";//拼接加\n返回的类目项
                                    var maxLength = 2;//每项显示文字个数
                                    value = value.substring(0, 6);
                                    var valLength = value.length;//X轴类目项的文字个数
                                    var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                                    if (rowN > 1)//如果类目项的文字大于3,
                                    {
                                        for (var i = 0; i < rowN; i++) {
                                            var temp = "";//每次截取的字符串
                                            var start = i * maxLength;//开始截取的位置
                                            var end = start + maxLength;//结束截取的位置
                                            //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧
                                            temp = value.substring(start, end) + "\n";
                                            ret += temp; //凭借最终的字符串
                                        }
                                        return ret;
                                    }
                                    else {
                                        return value;
                                    }
                                }
                            },
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                        },
                        yAxis: {
                            type: 'value',
                            axisLine: {
                                show: true,
                                lineStyle:{
                                    color:'#BDB9B9'
                                }
                            },
                            axisTick: {
                                show: true
                            },
                            axisLabel: {
                                formatter: function(value){
                                    var var1=value*1;
                                    return var1;
                                },
                                textStyle:{
                                    color:"#595959"
                                }
                            },
                            splitLine:{
                                show:true
                            },
                            splitArea: {
                                show:true,
                                areaStyle: {
                                    color: ['rgba(0,0,0,0)', 'rgba(0,0,0,0)']
                                }
                            },
                        },
                        series: [{
                            name: '库存周转率',
                            type: 'line',
                            showSymbol: false,
                            hoverAnimation: false,
                            data: arr2,
                            itemStyle: {
                                emphasis: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                },
                                normal: {
                                    lineStyle:{
                                        width:1
                                    },
                                    color:'#51D0E5',
                                }
                            }
                        }
                        ]
                    };
                    myChart1.setOption(option);
                })
            }
    </script>

</body>
</html>